#import './Category.fragment.graphql'
#import './Post.fragment.graphql'

query Category($first: Int, $category: String) {
  posts(
    first: $first
    where: {categoryName: $category, dateQuery: {after: {month: 1, year: 2019}}, status: PUBLISH}
  ) {
    pageInfo {
      startCursor
      endCursor
      hasNextPage
      hasPreviousPage
    }
    edges {
      node {
        ...Post
        image: featuredImage {
          node {
            featured: sourceUrl
          }
        }
        categories {
          edges {
            node {
              ...Category
            }
          }
        }
      }
    }
  }
  categories {
    edges {
      node {
        ...Category
      }
    }
  }
}